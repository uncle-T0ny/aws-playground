version: 0.2

phases:
  install:
    runtime-versions:
      nodejs: 20
    commands:
      - npm install
  build:
    commands:
      - echo "Running integration tests..."
      - npm test
#  post_build:
#    commands:
#      - |
#        if [ $? -eq 0 ]; then
#          STATUS="SUCCESS"
#        else
#          STATUS="FAILED"
#        fi
#        send_slack_notification() {
#          local status=$1
#          local message
#          if [ "$status" = "SUCCESS" ]; then
#            message="âœ… *Build Succeeded* : The integration tests passed successfully."
#          else
#            message="ðŸš« *Build Failed* : The integration tests failed."
#          fi
#          echo "Sending Slack notification: $message"
#          curl -X POST -H 'Content-type: application/json' \
#            --data "{\"text\":\"${message}\"}" "$SLACK_WEBHOOK_URL"
#        }
#        send_slack_notification "$STATUS"
artifacts:
  files:
    - "**/*"